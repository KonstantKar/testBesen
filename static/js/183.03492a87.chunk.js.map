{"version":3,"file":"static/js/183.03492a87.chunk.js","mappings":"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","sources":["components/Button/Button.jsx","components/Input/Input.jsx","components/Title/Title.jsx","components/Checkbox/Checkbox.jsx","components/CheckboxTxt/CheckboxTxt.jsx","components/RadioInput/RadioInput.jsx","components/Select/Select.jsx","hooks/useFormValidation.js","pages/Feedback/Feedback.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nimport \"./Button.css\";\r\n\r\nfunction Button({ children, valid = true, mod, handler, type = \"submit\" }) {\r\n  return (\r\n    <button\r\n      className={`button ${!valid && \"button_disabled\"} ${mod}`}\r\n      disabled={!valid}\r\n      onClick={handler}\r\n      type={type}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import './Input.css';\r\n\r\nimport arrow from '../../images/arrow.png';\r\n\r\nfunction Input({\r\n  label,\r\n  name,\r\n  onChange,\r\n  values,\r\n  setValues,\r\n  mod,\r\n  type = 'number',\r\n  placeholder,\r\n  marked = false,\r\n  errors,\r\n  disabled,\r\n  ...otherProps\r\n}) {\r\n  return (\r\n    <div className={`input app__input ${mod && mod}`}>\r\n      <label className=\"input__label\">\r\n        {label}\r\n        {marked && <span className=\"input__label-required\"> *</span>}\r\n      </label>\r\n      <input\r\n        className={`input__field ${\r\n          errors && errors.includes(name) ? 'input__field_incorrect' : ''\r\n        } ${disabled && 'input__field_disabled'}`}\r\n        value={values[name] || ''}\r\n        onChange={onChange}\r\n        min=\"0\"\r\n        placeholder={placeholder ? placeholder : type === 'number' ? '0' : ''}\r\n        name={name}\r\n        required\r\n        type={type}\r\n        {...otherProps}\r\n      />\r\n      {type === 'number' && (\r\n        <div\r\n          className=\"arrow arrow_up\"\r\n          onClick={() => {\r\n            if (values[name] === undefined) {\r\n              setValues({ ...values, [name]: '1' });\r\n            } else {\r\n              setValues({\r\n                ...values,\r\n                [name]: String(Number(values[name]) + 1),\r\n              });\r\n            }\r\n          }}\r\n        >\r\n          <img className=\"arrow__image\" src={arrow} alt=\"arrow\" />\r\n        </div>\r\n      )}\r\n      {type === 'number' && (\r\n        <div\r\n          className=\"arrow arrow_down\"\r\n          onClick={() => {\r\n            setValues({\r\n              ...values,\r\n              [name]: values[name] > 0 ? String(Number(values[name]) - 1) : '0',\r\n            });\r\n          }}\r\n        >\r\n          <img\r\n            className=\"arrow__image arrow__image_down\"\r\n            src={arrow}\r\n            alt=\"arrow\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport \"./Title.css\";\r\n\r\nfunction Title({ children, mod }) {\r\n  return <div className={`title app__title ${mod}`}>{children}</div>;\r\n}\r\n\r\nexport default Title;\r\n","import React from 'react';\r\n\r\nimport './Checkbox.css';\r\n\r\nconst Checkbox = ({ text, id, onChange, value, name, errors }) => {\r\n  return (\r\n    <label className=\"checkbox\" htmlFor={`checkbox${id}`}>\r\n      {text}\r\n      <input\r\n        className=\"checkbox__input\"\r\n        type=\"checkbox\"\r\n        id={`checkbox${id}`}\r\n        name={name ? name : value}\r\n        onChange={onChange}\r\n      />\r\n      <span\r\n        className={`checkbox__mark ${\r\n          errors && errors.includes(name) && !value ? 'input__field_incorrect' : ''\r\n        }`}\r\n      ></span>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\n\r\nimport './CheckboxTxt.css';\r\n\r\nfunction CheckboxTxt() {\r\n  return (\r\n    <p className=\"checkbox-txt\">\r\n      Я принимаю условия согласия {' '}\r\n      <a\r\n        className=\"checkbox-txt__link\"\r\n        href=\"https://besins-healthcare.ru/consent/\"\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        «Работников системы здравоохранения»\r\n        <span className=\"checkbot-txt__mark\">*</span>\r\n      </a> на обработку персональных данных.\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default CheckboxTxt;\r\n","import React from \"react\";\r\n\r\nimport \"./RadioInput.css\";\r\n\r\nfunction RadioInput({ question, variants, onChange, num, id }) {\r\n  return (\r\n    <>\r\n      <h3 className=\"question\">{question}</h3>\r\n      <div className=\"switch-field\">\r\n        {variants.map((item, index) => {\r\n          return (\r\n            <div className=\"switch-field__wrapper\" key={item + index}>\r\n              <input\r\n                className=\"switch-field__input\"\r\n                type=\"radio\"\r\n                id={num ? `radio${num * 4 + index}` : item.value}\r\n                name={num ? `question${num}` : id}\r\n                value={item.value}\r\n                onChange={onChange}\r\n                required\r\n              />\r\n              <label\r\n                className=\"switch-field__label\"\r\n                htmlFor={num ? `radio${num * 4 + index}` : item.value}\r\n              >\r\n                {item.value}\r\n              </label>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RadioInput;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport './Select.css';\r\n\r\nconst Select = (props) => {\r\n  const { items, isOpen, searchQuery, handleClick } = props;\r\n\r\n  const filteredItems = items.filter((item) => {\r\n    if (searchQuery) {\r\n      return item.name.toLowerCase().includes(searchQuery?.toLowerCase());\r\n    }\r\n    return items;\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   if (isOpen) {\r\n  //     window.document.body.style.overflow = 'hidden';\r\n  //   } else {\r\n  //     window.document.body.style.overflow = 'auto';\r\n  //   }\r\n  // }, [isOpen]);\r\n\r\n  return (\r\n    isOpen && (\r\n      <ul className=\"regions\">\r\n        {filteredItems.map((item) => {\r\n          return (\r\n            <li\r\n              className=\"region\"\r\n              key={item.id}\r\n              onClick={() => handleClick(item.name)}\r\n            >\r\n              {item.name}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport function useFormValidation(injectValid = true) {\r\n  const [values, setValues] = useState({});\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => console.log(\"Values\", values), [values]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n    setIsFormValid(e.target.closest(\"form\").checkValidity() && injectValid);\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    values,\r\n    isFormValid,\r\n    setValues,\r\n    setIsFormValid,\r\n  };\r\n}\r\n\r\nexport default useFormValidation;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport isEmail from 'validator/es/lib/isEmail';\r\nimport isMobilePhone from 'validator/es/lib/isMobilePhone';\r\nimport { Title, Input, Checkbox, CheckboxTxt } from '../../components';\r\nimport CryptoJS from 'crypto-js';\r\nimport useFormValidation from '../../hooks/useFormValidation';\r\nimport { useTelegram } from '../../hooks/useTelegram.js';\r\nimport './Feedback.css';\r\n\r\nconst secretPass = process.env.REACT_APP_SECRET_PASS;\r\n\r\nexport default function Feedback() {\r\n  const [check, setCheck] = useState(false);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [isDecrypt, setIsDecrypt] = useState(true);\r\n  const { handleChange, values, setValues } = useFormValidation();\r\n  const { tg } = useTelegram();\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const queryParams = new URLSearchParams(location.search);\r\n    try {\r\n      const hashFromLink = queryParams.get('hash').replaceAll(' ', '+');\r\n      if (hashFromLink) {\r\n        const bytes = CryptoJS.AES.decrypt(hashFromLink, secretPass);\r\n        const dataDec = JSON.parse(bytes.toString(CryptoJS.enc.Utf8)).split(\r\n          '<splitter>'\r\n        );\r\n        console.log('dataDec', dataDec);\r\n        const [firstName, lastName, phone, mail] = dataDec;\r\n        setValues({\r\n          ...values,\r\n          name: `${firstName} ${lastName}`,\r\n          phone,\r\n          mail,\r\n        });\r\n      }\r\n    } catch (e) {\r\n      setIsDecrypt(false);\r\n    }\r\n  }, []);\r\n\r\n  const onSendData = useCallback(() => {\r\n    const checkValidity = () => {\r\n      const errorsArr = [];\r\n      if (\r\n        (values['name'] && !/\\s*^[а-яёa-z -/']+\\s*$/iu.test(values['name'])) ||\r\n        !values['name']\r\n      ) {\r\n        errorsArr.push('name');\r\n      }\r\n      if (!values['feedback']) {\r\n        errorsArr.push('feedback');\r\n      }\r\n      if ((values['mail'] && !isEmail(values['mail'])) || !values['mail']) {\r\n        errorsArr.push('mail');\r\n      }\r\n      if (\r\n        (values['phone'] && !isMobilePhone(values['phone'], 'ru-RU')) ||\r\n        !values['phone']\r\n      ) {\r\n        errorsArr.push('phone');\r\n      }\r\n      if (!check) errorsArr.push('agree');\r\n      setErrors(errorsArr);\r\n      if (errorsArr.length === 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    if (checkValidity()) {\r\n      console.log('Valid');\r\n      setIsFormValid(true);\r\n      const data = { formType: 'feed', ...values };\r\n      tg.sendData(JSON.stringify(data));\r\n    } else {\r\n      console.log('Invalid');\r\n      setIsFormValid(false);\r\n    }\r\n  }, [values, tg, check]);\r\n\r\n  useEffect(() => {\r\n    if (!isFormValid) {\r\n      const offset =\r\n        document\r\n          .querySelector('.input__field_incorrect')\r\n          ?.getBoundingClientRect()?.top +\r\n        window.pageYOffset -\r\n        40;\r\n      window.scrollTo(0, offset);\r\n    }\r\n  }, [errors, isFormValid]);\r\n\r\n  useEffect(() => {\r\n    tg.onEvent('mainButtonClicked', onSendData);\r\n    return () => {\r\n      tg.offEvent('mainButtonClicked', onSendData);\r\n    };\r\n  }, [onSendData, tg]);\r\n\r\n  useEffect(() => {\r\n    tg.MainButton.show();\r\n    tg.MainButton.setParams({\r\n      text: 'Отправить',\r\n      color: '#4e5994',\r\n    });\r\n  }, [tg.MainButton]);\r\n\r\n  return (\r\n    <>\r\n      <form\r\n        className=\"feedback\"\r\n        noValidate\r\n        onSubmit={(e) => e.preventDefault()}\r\n      >\r\n        <div className=\"feedback__header\">\r\n          <Title>Форма обратной связи</Title>\r\n          <Input\r\n            label=\"Имя\"\r\n            name=\"name\"\r\n            onChange={handleChange}\r\n            values={values}\r\n            setValues={setValues}\r\n            type=\"text\"\r\n            marked\r\n            errors={errors}\r\n            disabled={isDecrypt}\r\n          />\r\n          <Input\r\n            label=\"Почта\"\r\n            name=\"mail\"\r\n            onChange={handleChange}\r\n            values={values}\r\n            setValues={setValues}\r\n            type=\"email\"\r\n            marked\r\n            errors={errors}\r\n            disabled={isDecrypt}\r\n          />\r\n          <Input\r\n            label=\"Телефон\"\r\n            name=\"phone\"\r\n            onChange={handleChange}\r\n            values={values}\r\n            setValues={setValues}\r\n            type=\"tel\"\r\n            placeholder={'Формат: 79991234242'}\r\n            marked\r\n            errors={errors}\r\n            disabled={isDecrypt}\r\n          />\r\n          <div className=\"textarea\">\r\n            <label className=\"textarea__label\">\r\n              Пожалуйста, поделитесь Вашим мнением или опишите проблему:\r\n            </label>\r\n            <textarea\r\n              className={`textarea__field ${\r\n                errors.includes('feedback') ? 'input__field_incorrect' : ''\r\n              }`}\r\n              name=\"feedback\"\r\n              values={values}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <Checkbox\r\n            text={<CheckboxTxt />}\r\n            id=\"agree\"\r\n            name=\"agree\"\r\n            onChange={() => setCheck(!check)}\r\n            value={check}\r\n            errors={errors}\r\n          />\r\n          {/* <button onClick={onSendData}>Проверить</button> */}\r\n          <span\r\n            className={`feedback__note ${\r\n              errors.length && 'feedback__note_visible'\r\n            }`}\r\n          >\r\n            Пожалуйста, проверьте правильность заполнения полей, отмеченные\r\n            звездочкой (<span className=\"marked\">*</span>)\r\n          </span>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"names":["_ref","children","valid","mod","handler","type","_jsx","className","concat","disabled","onClick","label","name","onChange","values","setValues","placeholder","marked","errors","otherProps","_jsxs","includes","value","min","required","undefined","String","Number","src","arrow","alt","text","id","htmlFor","href","target","rel","question","variants","num","_Fragment","map","item","index","props","items","isOpen","searchQuery","handleClick","filteredItems","filter","toLowerCase","injectValid","arguments","length","useState","isFormValid","setIsFormValid","useEffect","console","log","handleChange","e","closest","checkValidity","secretPass","process","Feedback","check","setCheck","setErrors","isDecrypt","setIsDecrypt","useFormValidation","tg","useTelegram","queryParams","URLSearchParams","location","search","hashFromLink","get","replaceAll","bytes","CryptoJS","decrypt","dataDec","JSON","parse","toString","Utf8","split","firstName","lastName","phone","mail","onSendData","useCallback","errorsArr","test","push","isEmail","isMobilePhone","data","formType","sendData","stringify","_document$querySelect","_document$querySelect2","offset","document","querySelector","getBoundingClientRect","top","window","pageYOffset","scrollTo","onEvent","offEvent","MainButton","show","setParams","color","noValidate","onSubmit","preventDefault","Title","Input","Checkbox","CheckboxTxt"],"sourceRoot":""}